<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/142.0.0.0 Safari/537.36" version="29.2.9">
  <diagram name="第 1 页" id="FRwbjqlZDcXsopjjHyKI">
    <mxGraphModel dx="3246" dy="1791" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="LV08cLDXpgHk8r0yKHMs-1" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="EngineClient" vertex="1">
          <mxGeometry height="134" width="240" x="80" y="440" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-2" parent="LV08cLDXpgHk8r0yKHMs-1" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="+ vllm_config: VllmConfig&lt;div&gt;+ model_config:&amp;nbsp;ModelConfig&lt;/div&gt;&lt;div&gt;&lt;div&gt;+ input_processor: InputProcessor&lt;/div&gt;&lt;div&gt;+ io_processor: IOProcessor | None&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="74" width="240" y="26" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-3" parent="LV08cLDXpgHk8r0yKHMs-1" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="240" y="100" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-4" parent="LV08cLDXpgHk8r0yKHMs-1" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="+ method(type): type" vertex="1">
          <mxGeometry height="26" width="240" y="108" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-5" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="AsyncLLM |&amp;nbsp;AsyncLLMEngine" vertex="1">
          <mxGeometry height="86" width="240" x="80" y="740" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-6" parent="LV08cLDXpgHk8r0yKHMs-5" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="+ field: type" vertex="1">
          <mxGeometry height="26" width="240" y="26" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-7" parent="LV08cLDXpgHk8r0yKHMs-5" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="240" y="52" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-8" parent="LV08cLDXpgHk8r0yKHMs-5" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="+ method(type): type" vertex="1">
          <mxGeometry height="26" width="240" y="60" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-10" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="VllmConfig" vertex="1">
          <mxGeometry height="86" width="320" x="600" y="488" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-11" parent="LV08cLDXpgHk8r0yKHMs-10" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="+ model_config:&amp;nbsp;ModelConfig&lt;div&gt;&lt;br&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="26" width="320" y="26" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-12" parent="LV08cLDXpgHk8r0yKHMs-10" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="320" y="52" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-13" parent="LV08cLDXpgHk8r0yKHMs-10" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="+ method(type): type" vertex="1">
          <mxGeometry height="26" width="320" y="60" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-14" edge="1" parent="1" source="LV08cLDXpgHk8r0yKHMs-4" style="endArrow=none;html=1;edgeStyle=orthogonalEdgeStyle;rounded=0;exitX=0.49;exitY=0.973;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="LV08cLDXpgHk8r0yKHMs-5" value="">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="200" y="560" as="sourcePoint" />
            <mxPoint x="360" y="560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-15" connectable="0" parent="LV08cLDXpgHk8r0yKHMs-14" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=bottom;" value="parent" vertex="1">
          <mxGeometry relative="1" x="-1" as="geometry">
            <mxPoint y="17" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-16" connectable="0" parent="LV08cLDXpgHk8r0yKHMs-14" style="edgeLabel;resizable=0;html=1;align=right;verticalAlign=bottom;" value="child" vertex="1">
          <mxGeometry relative="1" x="1" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-18" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="ModelConfig" vertex="1">
          <mxGeometry height="494" width="320" x="600" y="-90" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-19" parent="LV08cLDXpgHk8r0yKHMs-18" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="+ model: str = &quot;Qwen/Qwen3-0.6B&quot;&lt;div&gt;+&amp;nbsp;runner: RunnerOption = &quot;auto&quot; # [&quot;generate&quot;, &quot;pooling&quot;, &quot;draft&quot;]&lt;/div&gt;&lt;div&gt;+&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;convert: ConvertOption = &quot;auto&quot; #&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;[&quot;none&quot;, &quot;embed&quot;, &quot;classify&quot;, &quot;reward&quot;]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;+ task: TaskOption | None = None #&amp;nbsp;[&quot;auto&quot;, &quot;generate&quot;, &quot;embedding&quot;, &quot;embed&quot;, &quot;classify&quot;, &quot;score&quot;, &quot;reward&quot;, &quot;transcription&quot;, &quot;draft&quot;]&lt;/div&gt;&lt;div&gt;tokenizer: SkipValidation[str] = None&lt;/div&gt;&lt;div&gt;tokenizer_mode: TokenizerMode | str = &quot;auto&quot; #&amp;nbsp;[&quot;auto&quot;, &quot;hf&quot;, &quot;slow&quot;, &quot;mistral&quot;]&lt;/div&gt;&lt;div&gt;trust_remote_code: bool = False&lt;/div&gt;&lt;div&gt;dtype: ModelDType | torch.dtype = &quot;auto&quot; #&amp;nbsp;[&quot;auto&quot;, &quot;half&quot;, &quot;float16&quot;, &quot;bfloat16&quot;, &quot;float&quot;, &quot;float32&quot;]&lt;/div&gt;&lt;div&gt;seed: int = 0&lt;/div&gt;&lt;div&gt;quantization: SkipValidation[QuantizationMethods | None] = None #&amp;nbsp;[&quot;awq&quot;, &quot;deepspeedfp&quot;, &quot;tpu_int8&quot;, &quot;fp8&quot;, &quot;ptpc_fp8&quot;, &quot;fbgemm_fp8&quot;, &quot;fp_quant&quot;, &quot;modelopt&quot;, &quot;modelopt_fp4&quot;, &quot;bitblas&quot;, &quot;gguf&quot;, &quot;gptq_marlin_24&quot;, &quot;gptq_marlin&quot;, &quot;gptq_bitblas&quot;, &quot;awq_marlin&quot;, &quot;gptq&quot;, &quot;compressed-tensors&quot;, &quot;bitsandbytes&quot;, &quot;hqq&quot;, &quot;experts_int8&quot;, &quot;ipex&quot;, &quot;quark&quot;, &quot;moe_wna16&quot;, &quot;torchao&quot;, &quot;auto-round&quot;, &quot;rtn&quot;, &quot;inc&quot;, &quot;mxfp4&quot;, &quot;petit_nvfp4&quot;, &quot;cpu_gptq&quot;, &quot;cpu_awq&quot;]&lt;/div&gt;&lt;div&gt;enforce_eager: bool = False&lt;/div&gt;" vertex="1">
          <mxGeometry height="434" width="320" y="26" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-20" parent="LV08cLDXpgHk8r0yKHMs-18" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="320" y="460" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-21" parent="LV08cLDXpgHk8r0yKHMs-18" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="+ method(type): type" vertex="1">
          <mxGeometry height="26" width="320" y="468" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-23" edge="1" parent="1" source="LV08cLDXpgHk8r0yKHMs-11" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;entryX=-0.002;entryY=0.023;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" target="LV08cLDXpgHk8r0yKHMs-18" value="1">
          <mxGeometry relative="1" x="-1" y="3" as="geometry">
            <Array as="points">
              <mxPoint x="960" y="527" />
              <mxPoint x="960" y="440" />
              <mxPoint x="560" y="440" />
              <mxPoint x="560" y="-79" />
            </Array>
            <mxPoint x="520" y="490" as="sourcePoint" />
            <mxPoint x="778" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-36" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="TokenizerLike" vertex="1">
          <mxGeometry height="80" width="240" x="-860" y="-347.05" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-38" parent="LV08cLDXpgHk8r0yKHMs-36" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="240" y="26" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-39" parent="LV08cLDXpgHk8r0yKHMs-36" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="+ from_pretrained() -&amp;gt; &quot;TokenizerLike&quot;" vertex="1">
          <mxGeometry height="46" width="240" y="34" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-40" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="HfTokenizer" vertex="1">
          <mxGeometry height="60" width="240" x="-1000" y="-194.05" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-42" parent="LV08cLDXpgHk8r0yKHMs-40" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="240" y="26" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-43" parent="LV08cLDXpgHk8r0yKHMs-40" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="+ method(type): type" vertex="1">
          <mxGeometry height="26" width="240" y="34" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-44" edge="1" parent="1" source="LV08cLDXpgHk8r0yKHMs-36" style="endArrow=none;html=1;edgeStyle=orthogonalEdgeStyle;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" target="LV08cLDXpgHk8r0yKHMs-40" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-720" y="-230.05" />
              <mxPoint x="-910" y="-230.05" />
            </Array>
            <mxPoint x="-720" y="-370.05" as="sourcePoint" />
            <mxPoint x="-810" y="-237.05" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-45" connectable="0" parent="LV08cLDXpgHk8r0yKHMs-44" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=bottom;" value="parent" vertex="1">
          <mxGeometry relative="1" x="-1" as="geometry">
            <mxPoint y="17" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-46" connectable="0" parent="LV08cLDXpgHk8r0yKHMs-44" style="edgeLabel;resizable=0;html=1;align=right;verticalAlign=bottom;" value="child" vertex="1">
          <mxGeometry relative="1" x="1" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-50" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="MistralTokenizer" vertex="1">
          <mxGeometry height="60" width="240" x="-720" y="-194.05" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-51" parent="LV08cLDXpgHk8r0yKHMs-50" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="240" y="26" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-52" parent="LV08cLDXpgHk8r0yKHMs-50" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="+ method(type): type" vertex="1">
          <mxGeometry height="26" width="240" y="34" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-53" edge="1" parent="1" source="LV08cLDXpgHk8r0yKHMs-39" style="endArrow=none;html=1;edgeStyle=orthogonalEdgeStyle;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.501;exitY=1.003;exitDx=0;exitDy=0;exitPerimeter=0;" target="LV08cLDXpgHk8r0yKHMs-50" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="-720" y="-230.05" />
              <mxPoint x="-560" y="-230.05" />
            </Array>
            <mxPoint x="-660" y="-330.05" as="sourcePoint" />
            <mxPoint x="-780" y="-164.05" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-54" connectable="0" parent="LV08cLDXpgHk8r0yKHMs-53" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=bottom;" value="parent" vertex="1">
          <mxGeometry relative="1" x="-1" as="geometry">
            <mxPoint y="17" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-55" connectable="0" parent="LV08cLDXpgHk8r0yKHMs-53" style="edgeLabel;resizable=0;html=1;align=right;verticalAlign=bottom;" value="child" vertex="1">
          <mxGeometry relative="1" x="1" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-59" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="InputProcessor" vertex="1">
          <mxGeometry height="194" width="240" x="150" y="120" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-60" parent="LV08cLDXpgHk8r0yKHMs-59" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;+&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;vllm_config: VllmConfig&lt;/span&gt;&lt;/div&gt;&lt;div&gt;+ model_config: ModelConfig&lt;/div&gt;&lt;div&gt;+ cache_config: CacheConfig&lt;/div&gt;&lt;div&gt;+ lora_config: LoRAConfig&lt;/div&gt;&lt;div&gt;+ structured_outputs_config: StructuredOutputsConfig&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;+ input_preprocessor: InputPreprocessor&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="134" width="240" y="26" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-61" parent="LV08cLDXpgHk8r0yKHMs-59" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="240" y="160" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-62" parent="LV08cLDXpgHk8r0yKHMs-59" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="+ method(type): type" vertex="1">
          <mxGeometry height="26" width="240" y="168" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-63" edge="1" parent="1" source="LV08cLDXpgHk8r0yKHMs-2" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;entryX=0;entryY=0.071;entryDx=0;entryDy=0;entryPerimeter=0;exitX=1.002;exitY=0.669;exitDx=0;exitDy=0;exitPerimeter=0;" value="1">
          <mxGeometry relative="1" x="-1" y="3" as="geometry">
            <Array as="points">
              <mxPoint x="430" y="516" />
              <mxPoint x="430" y="357" />
              <mxPoint x="120" y="357" />
              <mxPoint x="120" y="130" />
            </Array>
            <mxPoint x="320" y="516" as="sourcePoint" />
            <mxPoint x="150" y="129.7739999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-17" edge="1" parent="1" source="LV08cLDXpgHk8r0yKHMs-2" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;entryX=-0.005;entryY=0.148;entryDx=0;entryDy=0;entryPerimeter=0;" target="LV08cLDXpgHk8r0yKHMs-10" value="1">
          <mxGeometry relative="1" x="-1" y="3" as="geometry">
            <mxPoint x="220" y="490" as="sourcePoint" />
            <mxPoint x="380" y="490" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-22" edge="1" parent="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;entryX=-0.001;entryY=0.023;entryDx=0;entryDy=0;entryPerimeter=0;" target="LV08cLDXpgHk8r0yKHMs-18" value="1">
          <mxGeometry relative="1" x="-1" y="3" as="geometry">
            <mxPoint x="320" y="490" as="sourcePoint" />
            <mxPoint x="420" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-64" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="InputProcessor" vertex="1">
          <mxGeometry height="300" width="320" x="-400" y="-347.05" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-65" parent="LV08cLDXpgHk8r0yKHMs-64" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+ model_config: ModelConfig&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+ tokenizer: TokenizerLike&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="54" width="320" y="26" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-66" parent="LV08cLDXpgHk8r0yKHMs-64" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="320" y="80" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-67" parent="LV08cLDXpgHk8r0yKHMs-64" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="+&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;get_tokenizer() -&amp;gt; TokenizerLike&lt;/span&gt;&lt;div&gt;+ get_bos_token_id() -&amp;gt; int | None&lt;/div&gt;&lt;div&gt;+ get_eos_token_id() -&amp;gt; int | None&lt;/div&gt;&lt;div&gt;+ get_decoder_start_token_id() -&amp;gt; int | None&lt;/div&gt;&lt;div&gt;+ preprocess(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; prompt: PromptType,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; tokenization_kwargs: dict[str, Any] | None = None,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; *,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; mm_uuids: MultiModalUUIDDict | None = None,&lt;/div&gt;&lt;div&gt;) -&amp;gt; ProcessorInputs&lt;/div&gt;&lt;div&gt;+ stat_mm_cache() -&amp;gt; MultiModalCacheStats | None&lt;/div&gt;&lt;div&gt;+ clear_mm_cache(self) -&amp;gt; None&lt;/div&gt;" vertex="1">
          <mxGeometry height="212" width="320" y="88" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-69" edge="1" parent="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=-0.001;entryY=0.022;entryDx=0;entryDy=0;entryPerimeter=0;" target="LV08cLDXpgHk8r0yKHMs-18" value="1">
          <mxGeometry relative="1" x="-1" y="3" as="geometry">
            <Array as="points">
              <mxPoint x="530" y="-287" />
              <mxPoint x="530" y="-79" />
            </Array>
            <mxPoint x="-80" y="-286.99999999999994" as="sourcePoint" />
            <mxPoint x="599" y="-80" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-68" edge="1" parent="1" style="endArrow=open;html=1;endSize=12;startArrow=diamondThin;startSize=14;startFill=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=bottom;rounded=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" target="LV08cLDXpgHk8r0yKHMs-36" value="1">
          <mxGeometry relative="1" x="-1" y="3" as="geometry">
            <Array as="points">
              <mxPoint x="-30" y="-300" />
              <mxPoint x="-30" y="-420" />
              <mxPoint x="-920" y="-420" />
              <mxPoint x="-920" y="-327" />
            </Array>
            <mxPoint x="-80" y="-300" as="sourcePoint" />
            <mxPoint x="228" y="-300.05" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-70" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="TextPrompt" vertex="1">
          <mxGeometry height="88" width="240" x="-1280" y="70" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-71" parent="LV08cLDXpgHk8r0yKHMs-70" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;prompt: str&lt;/span&gt;&lt;/div&gt;" vertex="1">
          <mxGeometry height="54" width="240" y="26" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-72" parent="LV08cLDXpgHk8r0yKHMs-70" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="240" y="80" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-74" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="TokensPrompt" vertex="1">
          <mxGeometry height="108" width="240" x="-1280" y="190" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-75" parent="LV08cLDXpgHk8r0yKHMs-74" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;prompt_token_ids: list[int]&lt;/span&gt;&lt;/div&gt;&lt;div&gt;prompt: NotRequired[str]&lt;/div&gt;&lt;div&gt;token_type_ids: NotRequired[list[int]]&lt;/div&gt;" vertex="1">
          <mxGeometry height="74" width="240" y="26" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-76" parent="LV08cLDXpgHk8r0yKHMs-74" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="240" y="100" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-77" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="EmbedsPrompt" vertex="1">
          <mxGeometry height="88" width="240" x="-1280" y="330" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-78" parent="LV08cLDXpgHk8r0yKHMs-77" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+&amp;nbsp;&lt;/span&gt;prompt_embeds: torch.Tensor" vertex="1">
          <mxGeometry height="54" width="240" y="26" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-79" parent="LV08cLDXpgHk8r0yKHMs-77" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="240" y="80" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-80" parent="1" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" value="DataPrompt" vertex="1">
          <mxGeometry height="98" width="240" x="-1280" y="458" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-81" parent="LV08cLDXpgHk8r0yKHMs-80" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" value="&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent;&quot;&gt;data: Any&lt;/span&gt;&lt;div&gt;+ data_format: str&lt;/div&gt;" vertex="1">
          <mxGeometry height="64" width="240" y="26" as="geometry" />
        </mxCell>
        <mxCell id="LV08cLDXpgHk8r0yKHMs-82" parent="LV08cLDXpgHk8r0yKHMs-80" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" value="" vertex="1">
          <mxGeometry height="8" width="240" y="90" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
